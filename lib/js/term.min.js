'use strict';window.tsfTerm=function(){const a="undefined"!=typeof tsfTermL10n&&tsfTermL10n,b="autodescription-meta[doctitle]",c="autodescription-meta[description]",d="autodescription_social_tt",e=()=>{const a=document.getElementById("autodescription-meta[noindex]");let b="",c=!0;const d=()=>{let a=document.getElementById("autodescription-meta[canonical]");a&&(b||=a.placeholder,a.placeholder=c?b:"")},e=b=>{let e="";switch(+b){case 0:e=a.dataset.defaultUnprotected;break;case-1:e="index";break;case 1:e="noindex";}c="noindex"!==e,d()};a&&(a.addEventListener("change",a=>e(a.target.value)),e(a.value))},f=()=>{const c=document.getElementById(b);if(!c)return;tsfTitle.setInputElement(c);const d=JSON.parse(document.getElementById(`tsf-title-data_${b}`)?.dataset.state||0);d&&(tsfTitle.updateStateOf(b,"allowReferenceChange",!d.refTitleLocked),tsfTitle.updateStateOf(b,"defaultTitle",d.defaultTitle.trim()),tsfTitle.updateStateOf(b,"addAdditions",d.addAdditions),tsfTitle.updateStateOf(b,"useSocialTagline",!!(d.useSocialTagline||!1)),tsfTitle.updateStateOf(b,"additionValue",d.additionValue.trim()),tsfTitle.updateStateOf(b,"additionPlacement",d.additionPlacement));const e=tsf.escapeString(a.params.termPrefix),f=document.getElementById("autodescription-meta[title_no_blog_name]");f&&(f.addEventListener("change",c=>{let d=!c.target.checked;a.params.additionsForcedDisabled&&(d=!1),tsfTitle.updateStateOf(b,"addAdditions",d)}),f.dispatchEvent(new Event("change")));const g=a=>{a=a?.trim();let c=tsfTitle.stripTitleTags?tsf.stripTags(a):a;c||=tsfTitle.untitledTitle;let d;d=window.isRtl?`${c} ${e}`:`${e} ${c}`,tsfTitle.updateStateOf(b,"defaultTitle",d)};document.querySelector("#edittag #name")?.addEventListener("input",a=>g(a.target.value)),tsfTitle.enqueueUnregisteredInputTrigger(b)},g=()=>{const a=document.getElementById(c);if(a){tsfDescription.setInputElement(a);const b=JSON.parse(document.getElementById(`tsf-description-data_${c}`)?.dataset.state||0);b&&tsfDescription.updateStateOf(c,"defaultDescription",b.defaultDescription.trim()),tsfDescription.enqueueUnregisteredInputTrigger(c)}},h=()=>{tsfSocial.setInputInstance(d,b,c);const a=JSON.parse(document.getElementById(`tsf-social-data_${d}`)?.dataset.settings||0);a&&(tsfSocial.updateStateOf(d,"addAdditions",a.og.state.addAdditions),tsfSocial.updateStateOf(d,"defaults",{ogTitle:a.og.state.defaultTitle,twTitle:a.tw.state.defaultTitle,ogDesc:a.og.state.defaultDesc,twDesc:a.tw.state.defaultDesc}))},i=()=>{e(),f(),g(),h()},j=()=>{};return Object.assign({load:()=>{document.body.addEventListener("tsf-onload",i),document.body.addEventListener("tsf-ready",j)}},{l10n:a})}(),window.tsfTerm.load();
